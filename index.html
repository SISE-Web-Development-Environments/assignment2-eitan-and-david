<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.5.0.js"
            integrity="sha256-r/AaFHrszJtwpe+tHyNi/XCfMxYpbsRg2Uqn0x3s2zc=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
          crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Monoton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Acme&display=swap" rel="stylesheet">
    <script src="scripts/jquery-3.4.1.slim.min.js"></script>
    <script type="text/javascript" src="scripts/app.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <title>PacMan</title>
</head>
<body>
<!-- Header - LOGO and App Name	-->
<div id="header">
    <nav class="navbar navbar-dark bg-dark">
        <div class="col"></div>
        <div class="col">
            <h1 align="center">PACMAN</h1>
        </div>
        <div class="col">
            <h5> Eitan Platok 313125353 <br> David Fadida 208161802 <br></h5>
        </div>
    </nav>
</div>
<!-- Header - LOGO and App Name	-->

<!-- Menu -->
<div id="mainMenu" hidden>
    <div align="center">
        <button type="button" id="play">
            <img src="./resources/yellowGhost.png" alt="" width="70" height="70">
            <br>
            <h5>PLAY</h5>
        </button>
        <button type="button" id="logIn">
            <img src="./resources/greenGhost.png" alt="" width="70" height="70">
            <br>
            <h5>LOGIN</h5>
        </button>
        <button type="button" id="register">
            <img src="./resources/blueGhost.png" alt="" width="70" height="70">
            <br>
            <h5>REGISTER</h5>
        </button>
        <button type="button" id="settings">
            <img src="./resources/redGhost.png" alt="" width="70" height="70">
            <br>
            <h5>SETTINGS</h5>
        </button>
        <button type="button" data-toggle="modal" data-target="#myModal">
            <img src="./resources/brownGhost.png" alt="" width="70" height="70">
            <br>
            <h5>ABOUT</h5>
        </button>
        <button type="button" id="logout" onclick="logOut()" hidden>
            <img src="./resources/blueGhost.png" alt="" width="70" height="70">
            <br>
            <h5>LOG OUT</h5>
        </button>
    </div>
</div>
<!-- Menu -->

<!-- About	-->
<div class="container">
    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog" id="modalStyle">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <span>About</span>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    Created by Eitan Platok and David Fadida
                    <br>
                    JQuery Plugin: XXX X.0.1
                    <br>
                    Template: Bootstrap 4.1
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Content -->

<div id="Welcome" align="center">
    <span>
        <br><br><br>
    </span>
    <button type="button" id="welcome_register">
        <img src="./resources/register.png" alt="" width="300px">
        <h5 class="welcomeTitle">REGISTER</h5>
    </button>
    <button type="button" id="welcome_login">
        <img src="./resources/login.png" alt="" width="300px">
        <h5 class="welcomeTitle">LOGIN</h5>
    </button>
</div>

<div id="gameView" align="center" hidden>
    <div></div>
    <div id="gameViewMain">
        <div id="game">
            <canvas id="canvas" height="600" width="600"></canvas>
        </div>
    </div>
    <div id="gameSettings">
        <div id="avatar">
            <img src="./resources/greenGhost.png" alt="" width="50">
            David Fadida
        </div>
        <div id="score">
            <label for="lblScore">SCORE : </label>
            <input id="lblScore" type="text" disabled>
            <br>
            <label for="lblTime">TIME : </label>
            <input id="lblTime" type="text" disabled>
            <br>
            <img id="life1" src="./resources/life.png" alt="" width="25">
            <img id="life2" src="./resources/life.png" alt="" width="25">
            <img id="life3" src="./resources/life.png" alt="" width="25">
            <img id="life4" src="./resources/life.png" alt="" width="25">
            <img id="life5" src="./resources/life.png" alt="" width="25">
        </div>
        5 Points Ball <span class="dot" id="colors_5_bind"></span>
        <br>
        15 Points Ball <span class="dot" id="colors_15_bind"></span>
        <br>
        25 Points Ball <span class="dot" id="colors_25_bind"></span>
        <br>
        Monsters: <label id="monsters_bind">1</label>
        <br>
        Game Length: <label id="length_bind">60</label>
    </div>
</div>

<div id="loginView" hidden>
    <br>
    <br>
    <br>
    <form id="loginForm" class="form-signin container" style="width: 20%">
        <img src="./resources/greenGhost.png" alt="" width="100" height="100">
        <h2 align="center">SIGN IN</h2>
        <label for="loginForm_username" class="sr-only">Email address</label>
        <input type="text" id="loginForm_username" class="form-control" placeholder="User Name" required=""
               autofocus="">
        <label for="loginForm_password" class="sr-only">Password</label>
        <input type="password" id="loginForm_password" class="form-control" placeholder="Password" required="">
        <button class="btn btn-lg btn-dark btn-block" type="submit">LOG IN</button>
    </form>
    <br>
    <br>
</div>

<div id="registerView" hidden>
    <br>
    <form id="registerForm" class="container" style="width: 20%">
        <img src="./resources/blueGhost.png" alt="" width="100" height="100">
        <h2>REGISTER</h2>
        <input id="form_username" type="text" class="form-control" placeholder="User Name" required>
        <input id="form_password" type="password" class="form-control" placeholder="Password" required><span
            id="password_error_message"></span>
        <input id="form_email" type="text" class="form-control" placeholder="Email" required><span
            id="email_error_message"></span>
        <input id="form_fName" type="text" class="form-control" placeholder="First Name" required><span
            id="fname_error_message"></span>
        <input id="form_lName" type="text" class="form-control" placeholder="Last Name" required><span
            id="lname_error_message"></span>
        Birth Day
        <div class="row align-items-center mt-4" id="birthday">
            <div class="col">
                <select class="form-control selectpicker" id="inputGroupSelect01" required>
                    <option selected>Day</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
            <div class="col">
                <select class="form-control selectpicker" id="inputGroupSelect02" required>
                    <option disabled selected>Month</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
            <div class="col">
                <select class="form-control selectpicker" id="inputGroupSelect03" required>
                    <option disabled selected>Year</option>
                    <option value="1">2000</option>
                    <option value="2">2001</option>
                    <option value="3">2002</option>
                </select>
            </div>
        </div>
        <button class="btn btn-lg btn-dark btn-block" id="submit">SUBMIT</button>
    </form>
</div>

<div id="settingsView" hidden>
    <br>
    <form class="container" style="width: 40%">
        <div style="width: 50%; margin-left: 25%">
            <img align="center" src="./resources/redGhost.png" alt="" width="100" height="100">
            <h2>SETTINGS</h2>
        </div>
        <div class="row">
            <div class="col" style="border-right: aliceblue 1px solid">
                <h4>Movement Configuration</h4>
                Select direction <br> Then press the new key
                <div id="wrapper">
                    <div class="box b">
                        <button id="buttonU"><i class="fas fa-arrow-up i"></i></button>
                    </div>
                    <div class="box d">
                        <button id="buttonL"><i class="fas fa-arrow-left i"></i></button>
                    </div>
                    <div class="box e">
                        <button id="buttonD"><i class="fas fa-arrow-down i"></i></button>
                    </div>
                    <div class="box f">
                        <button id="buttonR"><i class="fas fa-arrow-right i"></i></button>
                    </div>
                </div>
                <h4>Monsters Configuration</h4>
                Monsters number
                <div id="moreWrapper" class="rating">
                    <div class="box d">
                        <button id="button2" onclick="lessMonsters(event)"><i class="fas fa-minus"></i></button>
                    </div>
                    <div class="box b">
                        <img src="./resources/brownGhost.png" height="50" width="50" alt="">
                        <span id="monsterAmount">x 1</span>
                    </div>
                    <div class="box f">
                        <button id="button4" onclick="moreMonsters(event)"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
            </div>
            <div class="col" style="border-left: aliceblue 1px solid">
                <h4>Game Configuration</h4>
                <div class="row align-items-center mt-4" id="balls">
                    <div class="col">
                        Balls : <span id="copyTarget">50</span>
                    </div>
                    <div class="col">
                        <input id="range" type="range" value="50" min="50" max="90"
                               class="custom-range slider" onchange="copyData(this,'copyTarget')">
                    </div>
                </div>
                <div class="row align-items-center mt-4" id="colors_5">
                    <div class="col">
                        5 Points ball :
                    </div>
                    <div class="col">
                        <input type="color" class="form-control" required id="5pts" onchange="setColor(1)" value="#377d43">
                    </div>
                </div>
                <div class="row align-items-center mt-4" id="colors_15">
                    <div class="col">
                        15 Points ball :
                    </div>
                    <div class="col">
                        <input type="color" class="form-control" required id="15pts" onchange="setColor(2)" value="#3f657d">
                    </div>
                </div>
                <div class="row align-items-center mt-4" id="colors_25">
                    <div class="col">
                        25 Points ball :
                    </div>
                    <div class="col">
                        <input type="color" class="form-control" required id="25pts" onchange="setColor(3)" value="#7d5d65">
                    </div>
                </div>
                <!--                <h4>Game Configuration</h4>-->
                <div id="time">
                    Game length
                    <div id="moreWrapper2" class="rating">
                        <div class="box d">
                            <button onclick="lessTime(event)"><i class="fas fa-minus"></i></button>
                        </div>
                        <div class="box b">
                            <span id="gameLength">60 sec</span>
                        </div>
                        <div class="box f">
                            <button onclick="moreTime(event)"><i class="fas fa-plus"></i></button>
                        </div>
                    </div>
                </div>
                <br>
            </div>
        </div>
        <div style="width: 100%" class="row">
            <div class="col">
                <button class="btn btn-lg btn-dark btn-block" onclick="randomSettings(event)">RANDOM</button>
            </div>
            <div class="col">
                <button class="btn btn-lg btn-dark btn-block" onclick="settingsConfirm(event, false)">CONFIRM</button>
            </div>
        </div>
    </form>
</div>

<!-- Content -->
<br>
<!-- Footer -->
<div id="footer">
    <div class="jumbotron container" id="footerContent">
        <div class="row justify-content-center">
            <h4> PACMAN - Version 1.0.1</h4>
            <h6> Created By Eitan and David LTD</h6>
        </div>
    </div>
</div>
<!-- Footer -->

<!-- REMOVE INPUT CACHE -->

<audio id="deathS">
    <source src="./resources/pacman_death.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="beginningS">
    <source src="./resources/pacman_beginning.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="chompS">
    <source src="./resources/pacman_chomp.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="extraLifeS">
    <source src="./resources/pacman_eatfruit.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="gameOverS">
    <source src="./resources/pacman_gameover.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="loserSong" preload="auto">
    <source src="./resources/Sad Trombone - Gaming Sound Effect (HD).mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<script>
    document.querySelectorAll('input[type=text], input[type=email]').forEach(
        input => {
            input.setAttribute('autocomplete', 'off')
        }
    );
</script>
<!-- FONT AWESOME -->
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"
        integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ"
        crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/f6a2967fd7.js" crossorigin="anonymous"></script>
<script type="text/javascript">
    document.getElementById("register").addEventListener('click', function () {
        currentPage.setPageName("registerView");
        changeDiv();
    });

    document.getElementById("logIn").addEventListener('click', function () {
        currentPage.setPageName("loginView");
        changeDiv();
    });

    document.getElementById("settings").addEventListener('click', function () {
        currentPage.setPageName("settingsView");
        changeDiv();
    });

    document.getElementById("welcome_register").addEventListener('click', function () {
        currentPage.setPageName("registerView");
        document.getElementById("mainMenu").hidden = false;
        changeDiv();
    });

    document.getElementById("welcome_login").addEventListener('click', function () {
        currentPage.setPageName("loginView");
        document.getElementById("mainMenu").hidden = false;
        changeDiv();
    });

    document.getElementById("play").addEventListener('click', function () {
        if (signedIn) {
            currentPage.setPageName("gameView");
            changeDiv();
            //document.getElementById("chompS").play();
            document.getElementById("play").blur();
            document.getElementById("life1").hidden = false;
            document.getElementById("life2").hidden = false;
            document.getElementById("life3").hidden = false;
            document.getElementById("life4").hidden = false;
            document.getElementById("life5").hidden = false;
            Start();
        } else {
            alert("Please sign in first");
        }
    });

    document.getElementById("buttonU").addEventListener('click', function (event) {
        event.preventDefault();
        document.addEventListener('keydown', function davidFunction(e) {
            keyUpdateListener(e, "buttonU");
            document.removeEventListener('keydown', davidFunction);
        });
        document.getElementById("buttonU").blur();
    });

    document.getElementById("buttonL").addEventListener('click', function (event) {
        event.preventDefault();
        document.addEventListener('keydown', function davidFunction(e) {
            keyUpdateListener(e, "buttonL");
            document.removeEventListener('keydown', davidFunction);
        });
        document.getElementById("buttonL").blur();
    });

    document.getElementById("buttonR").addEventListener('click', function (event) {
        event.preventDefault();
        document.addEventListener('keydown', function davidFunction(e) {
            keyUpdateListener(e, "buttonR");
            document.removeEventListener('keydown', davidFunction);
        });
        document.getElementById("buttonR").blur();
    });

    document.getElementById("buttonD").addEventListener('click', function (event) {
        event.preventDefault();
        document.addEventListener('keydown', function davidFunction(e) {
            keyUpdateListener(e, "buttonD");
            document.removeEventListener('keydown', davidFunction);
        });
        document.getElementById("buttonD").blur();
    });

    let keyUpdateListener = function (event, id) {
        test(event.keyCode, id);
    };


</script>
</body>
</html>


